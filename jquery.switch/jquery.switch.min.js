(function(e,p){var k=e(p),f=!1,h=!1;k.bind("mousedown",function(b){1>=b.which&&!b.metaKey&&!b.shiftKey&&!b.altKey&&!b.ctrlKey&&(f=!0)}).bind("mouseup",function(){f=!1});k.bind("mouseup touchend",function(){h=!1;0<e(".ui-switch[data-dragging]").length&&(e(".ui-switch[data-dragging]").data("controls").snap(),h=!0)});var r={build:function(b,c){b.hide();b.attr("tabindex","-1");var d=b.find("option"),q=b.val(),m=!!b.attr("disabled"),i=c.on||d.first().val(),k=c.off||d.last().val(),n=d.filter("[value="+
i+"]").text(),d=d.filter("[value="+k+"]").text(),a=e('    <div class="ui-switch">                                 \n      <div class="ui-switch-mask">                          \n        <div class="ui-switch-master">                      \n          <div class="ui-switch-upper">                     \n            <span class="ui-switch-handle"></span>          \n          </div>                                            \n          <div class="ui-switch-lower">                     \n            <div class="ui-switch-labels">                  \n              <a href="#" class="ui-switch-on">{{on}}</a>   \n              <a href="#" class="ui-switch-off">{{off}}</a> \n            </div>                                          \n          </div>                                            \n        </div>                                              \n      </div>                                                \n      <div class="ui-switch-middle"></div>                  \n    </div>'.replace("{{on}}",
n).replace("{{off}}",d));a.addClass(b.val()===i?"on":"off");m&&a.addClass("disabled");var j=a.find(".ui-switch-master"),n=a.find(".ui-switch-handle");a.insertAfter(b);var d=a.find("a").map(function(a,b){return e(b).width()}),l=Math.max(d[0],d[1]);a.find(".ui-switch-middle").width(l+43);a.find("a").width(l);var o="-"+(l+21)+"px";j.css({left:o});n.css({left:l+16+"px"});i===q&&j.css({left:"-2px"});b.data("switch",a);a.data("select",b);a.data("animating",!1);a.data("offset",a.offset()).data("dimensions",
{width:a.width(),height:a.height()}).data("center",{left:a.data("offset").left+a.data("dimensions").width/2,top:a.data("offset").top+a.data("dimensions").height/2});e.event.special.slide={_default:function(a,b){if(!("on"===b||"off"===b))throw'jQuery/Switch: "slide" event must be triggered with an additional parameter of "on" or "off"';e(a.target).trigger("slide"+b)}};var g=a.data("controls",{_to:function(b,c){c||(c={silent:!1});!m&&!c.silent?a.trigger("slide",[b]):m||a.trigger("slide"+b);return a},
on:function(a){return g._to("on",a)},off:function(a){return g._to("off",a)},toggle:function(a){return g._to(b.val()===i?"off":"on",a)},snap:function(b){return!a.data("animating")&&a.attr("data-dragging")?a.find(".ui-switch-handle").offset().left+15>a.data("center").left?g.on(b):g.off(b):a}})&&a.data("controls");b.bind("change",function(){f=!1;g[b.val()===i?"on":"off"]()});a.attr("tabindex","0").bind("keyup",function(a){13===a.which&&g.toggle()});a.find("a").attr("tabindex","-1");a.bind("mouseup touchend",
function(b){b.preventDefault();a.attr("data-dragging")||g.toggle()});a.bind("mousedown touchstart",function(b){b.preventDefault();var b="touchstart"===b.type?b.originalEvent.targetTouches[0].pageX:b.pageX,c=parseInt(j.css("left")),b=a.data("offset").left+c-b;a.data("modifier",b)});a.bind("mouseleave touchcancel",function(){h?h=!1:a.data("controls").snap()});a.bind("mousemove touchmove",function(b){b.preventDefault();if(!m&&("touchmove"===b.type||f)){a.attr("data-dragging","true");var c;c="touchmove"===
b.type?b.originalEvent.targetTouches[0].pageX:b.pageX;var d=a.data("offset"),b=a.data("dimensions");a.data("center");c+=a.data("modifier");d=d.left-(l+35);c>d+18&&c<=d-19+b.width&&j.offset({left:c})}});a.bind("slideon",function(){a.data("animating",!0).removeAttr("data-dragging");j.stop().animate({left:"-2px"},"fast",function(){a.data("animating",!1).data("select").val(i);a.removeClass("off").addClass("on");h=f=!1})});a.bind("slideoff",function(){a.data("animating",!0).removeAttr("data-dragging");
j.stop().animate({left:o},"fast",function(){a.data("animating",!1).data("select").val(k);a.removeClass("on").addClass("off");h=f=!1})});return b},update:function(b){var c=b.data("switch");c.data("offset",c.offset()).data("dimensions",{width:c.width(),height:c.height()}).data("center",{left:c.data("offset").left+c.data("dimensions").width/2,top:c.data("offset").top+c.data("dimensions").height/2});return b}};e.fn.switchify=function(b){this.each(function(c,d){var f=e(d);if(!("update"!==b&&f.data("switch")))r["update"===
b?"update":"build"](f,b||{})});return this}})(jQuery,window.document);
